{% extends "base.html" %}
{% block content %}

<div class="row justify-content-center mt-5">
  <div class="col-md-4">

    <h4 class="mb-4 text-center">Login</h4>

    <form method="POST" novalidate>

      <!-- Username -->
      <div class="mb-3">
        <label class="form-label fw-semibold">Username</label>
        <input
          type="text"
          class="form-control"
          name="username"
          placeholder="Enter username"
          required
          autofocus>
      </div>

      <!-- Password -->
      <div class="mb-3">
        <label class="form-label fw-semibold">Password</label>
        <input
          type="password"
          class="form-control"
          name="password"
          placeholder="Enter password"
          required>
      </div>

      <!-- Department (Dynamic) -->
      <div class="mb-3">
        <label class="form-label fw-semibold">Department</label>
        <select class="form-select" name="department" required>
          <option value="">-- Select Department --</option>

          {% for dept in departments %}
            <option value="{{ dept }}">{{ dept }}</option>
          {% endfor %}

        </select>
        <div class="form-text">
          Region is automatically determined from ITAM data
        </div>
      </div>

      <!-- Submit -->
      <button type="submit" class="btn btn-primary w-100">
        Login
      </button>

    </form>

    {% if error %}
      <div class="alert alert-danger mt-3 text-center">
        {{ error }}
      </div>
    {% endif %}

    <div class="mt-3 text-center text-muted">
      <small>
        Admin users do not need to select a department
      </small>
    </div>

  </div>
</div>

{% endblock %}
